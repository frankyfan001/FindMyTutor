{"ast":null,"code":"import _slicedToArray from\"/Users/kehongliu/Documents/Temp/455/find-my-tutor/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/* eslint-disable */import React,{useState}from'react';import{makeStyles}from'@material-ui/core/styles';import TextField from'@material-ui/core/TextField';import Grid from'@material-ui/core/Grid';import{Avatar,Button,ButtonGroup,FormGroup,Paper,Typography}from'@material-ui/core';import{SchoolOutlined}from\"@material-ui/icons\";import ImportContactsIcon from'@material-ui/icons/ImportContacts';import MonetizationOnIcon from\"@material-ui/icons/MonetizationOn\";import ContactPhoneIcon from\"@material-ui/icons/ContactPhone\";import DescriptionIcon from'@material-ui/icons/Description';import PostAddIcon from'@material-ui/icons/PostAdd';import{useHistory}from\"react-router\";import useAlert from\"../hooks/useAlert\";import AlertMessage from\"./AlertMessage\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{margin:{margin:theme.spacing(1)},paper:{marginTop:theme.spacing(8),display:'flex',flexDirection:'column',alignItems:'center'},avatar:{margin:theme.spacing(1),backgroundColor:theme.palette.secondary.main},dayButtonGroup:{display:'flex',flexDirection:'column',alignItems:'center','& > *':{margin:theme.spacing(1)}},unselectedDayButton:{color:'black',background:'white','&:hover':{color:'black',background:'white'},textTransform:'none'},selectedDayButton:{color:'white',background:'#f1af8d','&:hover':{color:'white',background:'#f1af8d'},textTransform:'none'},submitButton:{color:'white',background:'linear-gradient(45deg, #F36887AE 30%, #F18651B0 90%)'}};});export default function NewPostPage(_ref){var accountHook=_ref.accountHook,postsHook=_ref.postsHook;var classes=useStyles();var alertHook=useAlert();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),mon=_useState2[0],setMon=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),tue=_useState4[0],setTue=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),wed=_useState6[0],setWed=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),thu=_useState8[0],setThu=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),fri=_useState10[0],setFri=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),sat=_useState12[0],setSat=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),sun=_useState14[0],setSun=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),school=_useState16[0],setSchool=_useState16[1];var _useState17=useState(\"\"),_useState18=_slicedToArray(_useState17,2),course=_useState18[0],setCourse=_useState18[1];var _useState19=useState(\"\"),_useState20=_slicedToArray(_useState19,2),wageInStr=_useState20[0],setWageInStr=_useState20[1];var _useState21=useState(\"\"),_useState22=_slicedToArray(_useState21,2),contact=_useState22[0],setContact=_useState22[1];var _useState23=useState(\"\"),_useState24=_slicedToArray(_useState23,2),description=_useState24[0],setDescription=_useState24[1];var history=useHistory();var handleSubmit=function handleSubmit(e){e.preventDefault();var availableDays=[mon,tue,wed,thu,fri,sat,sun];var wage=parseInt(wageInStr,10);var thumbUp=0;var thumbDown=0;var account_ref=accountHook.account?accountHook.account._id:null;var newPost={availableDays:availableDays,school:school,course:course,wage:wage,contact:contact,thumbUp:thumbUp,thumbDown:thumbDown,description:description,account_ref:account_ref};var Promise=postsHook.addPost(newPost);Promise.then(function(result){alertHook.switchToSuccess(\"Post added successfully.\");setTimeout(function(){history.push(\"/viewPost/\"+result._id);},1000);}).catch(function(err){alertHook.switchToFailure(err.message);});};return/*#__PURE__*/_jsx(Paper,{variant:\"outlined\",children:/*#__PURE__*/_jsxs(\"div\",{className:classes.paper,children:[/*#__PURE__*/_jsx(Avatar,{className:classes.avatar,children:/*#__PURE__*/_jsx(PostAddIcon,{})}),/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h5\",children:\"New Post\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(FormGroup,{children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,direction:\"column\",alignItems:\"stretch\",children:[/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,md:12,children:[/*#__PURE__*/_jsx(Typography,{children:\"Available Days\"}),/*#__PURE__*/_jsx(\"div\",{className:classes.dayButtonGroup,children:/*#__PURE__*/_jsxs(ButtonGroup,{color:\"primary\",\"aria-label\":\"outlined primary button group\",children:[/*#__PURE__*/_jsx(Button,{size:\"small\",className:mon?classes.selectedDayButton:classes.unselectedDayButton,onClick:function onClick(){return setMon(!mon);},children:\"Mon\"}),/*#__PURE__*/_jsx(Button,{size:\"small\",className:tue?classes.selectedDayButton:classes.unselectedDayButton,onClick:function onClick(){return setTue(!tue);},children:\"Tue\"}),/*#__PURE__*/_jsx(Button,{size:\"small\",className:wed?classes.selectedDayButton:classes.unselectedDayButton,onClick:function onClick(){return setWed(!wed);},children:\"Wed\"}),/*#__PURE__*/_jsx(Button,{size:\"small\",className:thu?classes.selectedDayButton:classes.unselectedDayButton,onClick:function onClick(){return setThu(!thu);},children:\"Thu\"}),/*#__PURE__*/_jsx(Button,{size:\"small\",className:fri?classes.selectedDayButton:classes.unselectedDayButton,onClick:function onClick(){return setFri(!fri);},children:\"Fri\"}),/*#__PURE__*/_jsx(Button,{size:\"small\",className:sat?classes.selectedDayButton:classes.unselectedDayButton,onClick:function onClick(){return setSat(!sat);},children:\"Sat\"}),/*#__PURE__*/_jsx(Button,{size:\"small\",className:sun?classes.selectedDayButton:classes.unselectedDayButton,onClick:function onClick(){return setSun(!sun);},children:\"Sun\"})]})})]}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:12,children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:1,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsx(FormInput,{label:\"School\",icon:/*#__PURE__*/_jsx(SchoolOutlined,{}),value:school,setValue:setSchool})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsx(FormInput,{label:\"Course\",icon:/*#__PURE__*/_jsx(ImportContactsIcon,{value:course}),setValue:setCourse})})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:12,children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:1,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsx(FormInput,{label:\"Wage ($ / h)\",icon:/*#__PURE__*/_jsx(MonetizationOnIcon,{value:wageInStr}),setValue:setWageInStr})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsx(FormInput,{label:\"Contact\",icon:/*#__PURE__*/_jsx(ContactPhoneIcon,{value:contact}),setValue:setContact})})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:12,children:/*#__PURE__*/_jsx(FormInput,{label:\"Description\",icon:/*#__PURE__*/_jsx(DescriptionIcon,{}),isDescription:true,value:description,setValue:setDescription})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:12,children:/*#__PURE__*/_jsx(AlertMessage,{alertHook:alertHook})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:12,children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",type:\"submit\",className:classes.submitButton,children:\"Submit\"})}),/*#__PURE__*/_jsx(\"br\",{})]})})})]})});}var FormInput=function FormInput(_ref2){var label=_ref2.label,icon=_ref2.icon,isDescription=_ref2.isDescription,value=_ref2.value,setValue=_ref2.setValue;var classes=useStyles();return/*#__PURE__*/_jsx(Paper,{variant:\"outlined\",children:/*#__PURE__*/_jsx(\"div\",{className:classes.margin,children:/*#__PURE__*/_jsx(Grid,{container:true,spacing:1,direction:\"row\",alignItems:\"stretch\",children:isDescription?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:12,children:/*#__PURE__*/_jsx(TextField,{multiline:true,rows:5,required:true,fullWidth:true,label:label,value:value,onChange:function onChange(e){setValue(e.target.value);}})})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:2,children:icon}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:10,children:/*#__PURE__*/_jsx(TextField,{required:true,fullWidth:true,label:label,value:value,onChange:function onChange(e){setValue(e.target.value);}})})]})})})});};","map":{"version":3,"sources":["/Users/kehongliu/Documents/Temp/455/find-my-tutor/client/src/frontend/components/NewPostPage.jsx"],"names":["React","useState","makeStyles","TextField","Grid","Avatar","Button","ButtonGroup","FormGroup","Paper","Typography","SchoolOutlined","ImportContactsIcon","MonetizationOnIcon","ContactPhoneIcon","DescriptionIcon","PostAddIcon","useHistory","useAlert","AlertMessage","useStyles","theme","margin","spacing","paper","marginTop","display","flexDirection","alignItems","avatar","backgroundColor","palette","secondary","main","dayButtonGroup","unselectedDayButton","color","background","textTransform","selectedDayButton","submitButton","NewPostPage","accountHook","postsHook","classes","alertHook","mon","setMon","tue","setTue","wed","setWed","thu","setThu","fri","setFri","sat","setSat","sun","setSun","school","setSchool","course","setCourse","wageInStr","setWageInStr","contact","setContact","description","setDescription","history","handleSubmit","e","preventDefault","availableDays","wage","parseInt","thumbUp","thumbDown","account_ref","account","_id","newPost","Promise","addPost","then","result","switchToSuccess","setTimeout","push","catch","err","switchToFailure","message","FormInput","label","icon","isDescription","value","setValue","target"],"mappings":"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","sourcesContent":["/* eslint-disable */\nimport React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Grid from '@material-ui/core/Grid';\nimport {\n  Avatar,\n  Button, ButtonGroup, FormGroup, Paper, Typography,\n} from '@material-ui/core';\nimport {SchoolOutlined} from \"@material-ui/icons\";\nimport ImportContactsIcon from '@material-ui/icons/ImportContacts';\nimport MonetizationOnIcon from \"@material-ui/icons/MonetizationOn\";\nimport ContactPhoneIcon from \"@material-ui/icons/ContactPhone\";\nimport DescriptionIcon from '@material-ui/icons/Description';\nimport PostAddIcon from '@material-ui/icons/PostAdd';\nimport {useHistory} from \"react-router\";\nimport useAlert from \"../hooks/useAlert\";\nimport AlertMessage from \"./AlertMessage\";\n\nconst useStyles = makeStyles((theme) => ({\n  margin: {\n    margin: theme.spacing(1),\n  },\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  dayButtonGroup: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    '& > *': {\n      margin: theme.spacing(1),\n    },\n  },\n  unselectedDayButton: {\n    color: 'black',\n    background: 'white',\n    '&:hover': {\n      color: 'black',\n      background: 'white',\n    },\n    textTransform: 'none',\n  },\n  selectedDayButton: {\n    color: 'white',\n    background: '#f1af8d',\n    '&:hover': {\n      color: 'white',\n      background: '#f1af8d',\n    },\n    textTransform: 'none',\n  },\n  submitButton: {\n    color: 'white',\n    background: 'linear-gradient(45deg, #F36887AE 30%, #F18651B0 90%)',\n  },\n}));\n\nexport default function NewPostPage({ accountHook, postsHook }) {\n  const classes = useStyles();\n\n  const alertHook = useAlert();\n\n  const [mon, setMon] = useState(false);\n  const [tue, setTue] = useState(false);\n  const [wed, setWed] = useState(false);\n  const [thu, setThu] = useState(false);\n  const [fri, setFri] = useState(false);\n  const [sat, setSat] = useState(false);\n  const [sun, setSun] = useState(false);\n\n  const [school, setSchool] = useState(\"\");\n  const [course, setCourse] = useState(\"\");\n  const [wageInStr, setWageInStr] = useState(\"\");\n  const [contact, setContact] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n\n  const history = useHistory();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    const availableDays = [mon, tue, wed, thu, fri, sat, sun];\n    const wage = parseInt(wageInStr, 10);\n    const thumbUp = 0;\n    const thumbDown = 0;\n    const account_ref = accountHook.account? accountHook.account._id : null;\n\n    const newPost = {\n      availableDays,\n      school,\n      course,\n      wage,\n      contact,\n      thumbUp,\n      thumbDown,\n      description,\n      account_ref\n    }\n\n    const Promise = postsHook.addPost(newPost);\n    Promise\n      .then((result) => {\n        alertHook.switchToSuccess(\"Post added successfully.\");\n        setTimeout(function () {\n          history.push(\"/viewPost/\" + result._id);\n        }, 1000)\n      })\n      .catch((err) => {\n        alertHook.switchToFailure(err.message);\n      });\n  };\n\n  return (\n    <Paper variant=\"outlined\">\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <PostAddIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          New Post\n        </Typography>\n        <br />\n        <br />\n        <FormGroup>\n          <form onSubmit={handleSubmit}>\n            <Grid container spacing={2} direction=\"column\" alignItems=\"stretch\">\n\n              {/*Available Days*/}\n              <Grid item xs={12} md={12}>\n                <Typography>Available Days</Typography>\n                <div className={classes.dayButtonGroup}>\n                  <ButtonGroup color=\"primary\" aria-label=\"outlined primary button group\">\n                    <Button size=\"small\" className={mon ? classes.selectedDayButton : classes.unselectedDayButton} onClick={() => setMon(!mon)}>Mon</Button>\n                    <Button size=\"small\" className={tue ? classes.selectedDayButton : classes.unselectedDayButton} onClick={() => setTue(!tue)}>Tue</Button>\n                    <Button size=\"small\" className={wed ? classes.selectedDayButton : classes.unselectedDayButton} onClick={() => setWed(!wed)}>Wed</Button>\n                    <Button size=\"small\" className={thu ? classes.selectedDayButton : classes.unselectedDayButton} onClick={() => setThu(!thu)}>Thu</Button>\n                    <Button size=\"small\" className={fri ? classes.selectedDayButton : classes.unselectedDayButton} onClick={() => setFri(!fri)}>Fri</Button>\n                    <Button size=\"small\" className={sat ? classes.selectedDayButton : classes.unselectedDayButton} onClick={() => setSat(!sat)}>Sat</Button>\n                    <Button size=\"small\" className={sun ? classes.selectedDayButton : classes.unselectedDayButton} onClick={() => setSun(!sun)}>Sun</Button>\n                  </ButtonGroup>\n                </div>\n              </Grid>\n\n              {/*School & Course*/}\n              <Grid item xs={12} md={12}>\n                <Grid container spacing={1}>\n                  <Grid item xs={12} md={6}>\n                    <FormInput label=\"School\" icon={<SchoolOutlined />} value={school} setValue={setSchool} />\n                  </Grid>\n                  <Grid item xs={12} md={6}>\n                    <FormInput label=\"Course\" icon={<ImportContactsIcon value={course} />} setValue={setCourse} />\n                  </Grid>\n                </Grid>\n              </Grid>\n\n              {/*Wage & Contact*/}\n              <Grid item xs={12} md={12}>\n                <Grid container spacing={1}>\n                  <Grid item xs={12} md={6}>\n                    <FormInput label=\"Wage ($ / h)\" icon={<MonetizationOnIcon value={wageInStr} />} setValue={setWageInStr} />\n                  </Grid>\n                  <Grid item xs={12} md={6}>\n                    <FormInput label=\"Contact\" icon={<ContactPhoneIcon value={contact} />} setValue={setContact} />\n                  </Grid>\n                </Grid>\n              </Grid>\n\n              {/*Description*/}\n              <Grid item xs={12} md={12}>\n                <FormInput label=\"Description\" icon={<DescriptionIcon />} isDescription={true} value={description} setValue={setDescription} />\n              </Grid>\n\n              {/*Show the alert message when adding a post failed.*/}\n              <Grid item xs={12} md={12}>\n                <AlertMessage alertHook={alertHook} />\n              </Grid>\n\n              {/*Submit Button*/}\n              <Grid item xs={12} md={12}>\n                <Button variant=\"contained\" type=\"submit\" className={classes.submitButton}>Submit</Button>\n              </Grid>\n              <br />\n            </Grid>\n          </form>\n        </FormGroup>\n      </div>\n    </Paper>\n  );\n}\n\nconst FormInput = ({ label, icon, isDescription, value, setValue }) => {\n  const classes = useStyles();\n\n  return (\n    <Paper variant=\"outlined\">\n      <div className={classes.margin}>\n        <Grid container spacing={1} direction=\"row\" alignItems=\"stretch\">\n\n            {isDescription ?\n              <>\n                <Grid item xs={12} md={12}>\n                  <TextField\n                    multiline\n                    rows={5}\n                    required\n                    fullWidth\n                    label={label}\n                    value={value}\n                    onChange={(e) => {setValue(e.target.value)}}\n                  />\n                </Grid>\n              </>\n              :\n              <>\n                <Grid item xs={12} md={2}>\n                  {icon}\n                </Grid>\n                <Grid item xs={12} md={10}>\n                  <TextField\n                    required\n                    fullWidth\n                    label={label}\n                    value={value}\n                    onChange={(e) => {setValue(e.target.value)}}\n                  />\n                </Grid>\n              </>\n            }\n        </Grid>\n      </div>\n    </Paper>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}