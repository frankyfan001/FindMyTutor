{"ast":null,"code":"import _regeneratorRuntime from\"/Users/kehongliu/Documents/Temp/455/find-my-tutor/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/kehongliu/Documents/Temp/455/find-my-tutor/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/kehongliu/Documents/Temp/455/find-my-tutor/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/* eslint-disable */import React,{useEffect,useState}from'react';export default function useTutorPosts(){// State: tutor posts\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),tutorPosts=_useState2[0],setTutorPosts=_useState2[1];// TODO: CQ\n// Get all posts of a tutor.\nvar getTutorPosts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(tutorId){var res,output;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('https://find-my-tutor-ubc.herokuapp.com/posts/?tutorId='+tutorId,{method:'GET'});case 2:res=_context.sent;_context.next=5;return res.json();case 5:output=_context.sent;if(!output.success){_context.next=11;break;}setTutorPosts(output.result);return _context.abrupt(\"return\",output.result);case 11:throw new Error(output.error);case 12:case\"end\":return _context.stop();}}},_callee);}));return function getTutorPosts(_x){return _ref.apply(this,arguments);};}();// TODO: CQ\n// Delete a post.\nvar deletePost=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(postId){var res,output;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch('https://find-my-tutor-ubc.herokuapp.com/posts/'+postId,{method:'DELETE'});case 2:res=_context2.sent;_context2.next=5;return res.json();case 5:output=_context2.sent;if(!output.success){_context2.next=10;break;}return _context2.abrupt(\"return\",output.result);case 10:throw new Error(output.error);case 11:case\"end\":return _context2.stop();}}},_callee2);}));return function deletePost(_x2){return _ref2.apply(this,arguments);};}();// Effect: fetch posts.\nuseEffect(function(){getTutorPosts();},[]);return{tutorPosts:tutorPosts,getTutorPosts:getTutorPosts,deletePost:deletePost};}","map":{"version":3,"sources":["/Users/kehongliu/Documents/Temp/455/find-my-tutor/client/src/frontend/hooks/useTutorPosts.jsx"],"names":["React","useEffect","useState","useTutorPosts","tutorPosts","setTutorPosts","getTutorPosts","tutorId","fetch","method","res","json","output","success","result","Error","error","deletePost","postId"],"mappings":"0gBAAA,oBACA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CAEA,cAAe,SAASC,CAAAA,aAAT,EAAyB,CACtC;AACA,cAAoCD,QAAQ,CAAC,EAAD,CAA5C,wCAAOE,UAAP,eAAmBC,aAAnB,eAEA;AACA;AACA,GAAMC,CAAAA,aAAa,0FAAG,iBAAOC,OAAP,uJACFC,CAAAA,KAAK,CAAC,0DAA4DD,OAA7D,CAAsE,CAC3FE,MAAM,CAAE,KADmF,CAAtE,CADH,QACdC,GADc,qCAICA,CAAAA,GAAG,CAACC,IAAJ,EAJD,QAIdC,MAJc,mBAMhBA,MAAM,CAACC,OANS,0BAOlBR,aAAa,CAACO,MAAM,CAACE,MAAR,CAAb,CAPkB,gCAQXF,MAAM,CAACE,MARI,eAUZ,IAAIC,CAAAA,KAAJ,CAAUH,MAAM,CAACI,KAAjB,CAVY,wDAAH,kBAAbV,CAAAA,aAAa,4CAAnB,CAcA;AACA;AACA,GAAMW,CAAAA,UAAU,2FAAG,kBAAOC,MAAP,4JACCV,CAAAA,KAAK,CAAC,iDAAmDU,MAApD,CAA4D,CACjFT,MAAM,CAAE,QADyE,CAA5D,CADN,QACXC,GADW,uCAIIA,CAAAA,GAAG,CAACC,IAAJ,EAJJ,QAIXC,MAJW,oBAMbA,MAAM,CAACC,OANM,4DAORD,MAAM,CAACE,MAPC,eAST,IAAIC,CAAAA,KAAJ,CAAUH,MAAM,CAACI,KAAjB,CATS,0DAAH,kBAAVC,CAAAA,UAAU,8CAAhB,CAaA;AACAhB,SAAS,CAAC,UAAM,CACdK,aAAa,GACd,CAFQ,CAEN,EAFM,CAAT,CAIA,MAAO,CAAEF,UAAU,CAAVA,UAAF,CAAcE,aAAa,CAAbA,aAAd,CAA6BW,UAAU,CAAVA,UAA7B,CAAP,CACD","sourcesContent":["/* eslint-disable */\nimport React, { useEffect, useState } from 'react';\n\nexport default function useTutorPosts() {\n  // State: tutor posts\n  const [tutorPosts, setTutorPosts] = useState([]);\n\n  // TODO: CQ\n  // Get all posts of a tutor.\n  const getTutorPosts = async (tutorId) => {\n    const res = await fetch('https://find-my-tutor-ubc.herokuapp.com/posts/?tutorId=' + tutorId, {\n      method: 'GET'\n    });\n    const output = await res.json();\n\n    if (output.success) {\n      setTutorPosts(output.result);\n      return output.result;\n    } else {\n      throw new Error(output.error);\n    }\n  };\n\n  // TODO: CQ\n  // Delete a post.\n  const deletePost = async (postId) => {\n    const res = await fetch('https://find-my-tutor-ubc.herokuapp.com/posts/' + postId, {\n      method: 'DELETE'\n    });\n    const output = await res.json();\n\n    if (output.success) {\n      return output.result;\n    } else {\n      throw new Error(output.error);\n    }\n  };\n\n  // Effect: fetch posts.\n  useEffect(() => {\n    getTutorPosts();\n  }, []);\n\n  return { tutorPosts, getTutorPosts, deletePost };\n}\n"]},"metadata":{},"sourceType":"module"}